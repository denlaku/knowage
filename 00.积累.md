### DecimalFormat

```java
DecimalFormat df = new DecimalFormat("0.00%");
String r1 = df.format(0.4555);
System.out.println(r1); // 45.55%

chcp 65001
```



JMM java内存模型

CPU锁
缓存锁
总线锁

MESI缓存一致性协议

1、修改（M）

高速缓存行仅存在于当前高速缓存中，并且是脏的 - 它已从主存储器中的值修改（M状态）。在允许对（不再有效）主存储器状态的任何其他读取之前，需要高速缓存在将来的某个时间将数据写回主存储器。回写将该行更改为共享状态（S）。

2、独家（E）

　　缓存行仅存在于当前缓存中，但是干净 - 它与主内存匹配。它可以随时更改为共享状态，以响应读取请求。或者，可以在写入时将其改变为修改状态。

3、共享（S）
　　表示此高速缓存行可能存储在计算机的其他高速缓存中并且是干净的 - 它与主存储器匹配。可以随时丢弃该行（更改为无效状态）。

4、无效（I）
​	表示此缓存行无效（未使用）。



内存可见性

竞态条件

内存屏障
也称内存栅栏，内存栅障，屏障指令等， 是一类同步屏障指令，是CPU或编译器在对内存随机访问的操作中的一个同步点，使得此点之前的所有读写操作都执行后才可以开始执行此点之后的操作。



RESP协议

Redis服务器与客户端通过RESP（REdis Serialization Protocol）协议通信。